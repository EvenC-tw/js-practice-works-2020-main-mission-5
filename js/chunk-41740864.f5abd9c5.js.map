{"version":3,"sources":["webpack:///./src/views/dashboard/Dashboard.vue?928e","webpack:///./src/components/loginModal.vue?ffc0","webpack:///src/components/loginModal.vue","webpack:///./src/components/loginModal.vue?53cf","webpack:///./src/components/loginModal.vue","webpack:///src/views/dashboard/Dashboard.vue","webpack:///./src/views/dashboard/Dashboard.vue?b186","webpack:///./src/views/dashboard/Dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","loginData","status","staticClass","on","$event","preventDefault","logout","setLoginData","staticRenderFns","class","modal","enable","enableClass","_s","title","directives","name","rawName","value","loginForm","expression","domProps","target","composing","$set","handleLogin","props","data","type","email","password","methods","apis","created","loginStatus","$bus","$emit","watch","curr","component","components","expired","token","isModalShow","$on","updateIsModalShow","success","$router","push"],"mappings":"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","file":"js/chunk-41740864.f5abd9c5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/admin/products\"}},[_vm._v(\"商品列表\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/admin/coupons\"}},[_vm._v(\"優惠券\")]),_c('span',{attrs:{\"v-if\":_vm.loginData.status}},[_vm._v(\" | \"),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout($event)}}},[_vm._v(\"登出\")])])],1),_c('router-view',{attrs:{\"name\":\"products\"}}),_c('login-modal',{attrs:{\"login-status\":_vm.loginData.status},on:{\"getLoginData\":_vm.setLoginData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.modal.enable ? _vm.modal.enableClass : '', 'modal fade'],attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"LoginModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-scrollable\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title text-center w-100\",attrs:{\"id\":\"LoginModalLabel\"}},[_vm._v(_vm._s(_vm.modal.title))])]),_c('div',{staticClass:\"modal-body\"},[_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.email),expression:\"loginForm.email\"}],staticClass:\"form-control\",attrs:{\"id\":\"email\",\"type\":\"text\",\"name\":\"\",\"placeholder\":\"請輸入email\",\"required\":\"\"},domProps:{\"value\":(_vm.loginForm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.loginForm, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.password),expression:\"loginForm.password\"}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"type\":\"password\",\"name\":\"\",\"placeholder\":\"請輸入密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.loginForm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.loginForm, \"password\", $event.target.value)}}})])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登入\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"[modal.enable ? modal.enableClass : '', 'modal fade']\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"LoginModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title text-center w-100\" id=\"LoginModalLabel\">{{ modal.title }}</h5>\n        </div>\n        <div class=\"modal-body\">\n          <form>\n            <div class=\"form-group\">\n              <label for=\"email\">Email</label>\n              <input\n                id=\"email\"\n                v-model=\"loginForm.email\"\n                class=\"form-control\"\n                type=\"text\"\n                name=\"\"\n                placeholder=\"請輸入email\"\n                required\n              />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"password\">Password</label>\n              <input\n                id=\"password\"\n                v-model=\"loginForm.password\"\n                class=\"form-control\"\n                type=\"password\"\n                name=\"\"\n                placeholder=\"請輸入密碼\"\n                required\n              />\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"handleLogin\">登入</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport apis from '@/apis/apis';\n\nexport default {\n  props: ['loginStatus'],\n  data() {\n    return {\n      modal: {\n        enable: null,\n        enableClass: 'show d-block login-modal',\n        title: 'Welcome Admin Dashboard',\n        type: '',\n      },\n      loginForm: {\n        email: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    handleLogin() {\n      apis.login(this.loginForm).then((res) => {\n        this.$emit('getLoginData', res);\n        this.$bus.$emit('productList.updateIsModalShow', false);\n      });\n    },\n  },\n  created() {\n    this.modal.enable = !this.loginStatus;\n    this.$bus.$emit('productList.updateIsModalShow', this.modal.enable);\n  },\n  watch: {\n    loginStatus(curr) {\n      this.modal.enable = !curr;\n      this.$bus.$emit('productList.updateIsModalShow', this.modal.enable);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginModal.vue?vue&type=template&id=a21a7952&\"\nimport script from \"./loginModal.vue?vue&type=script&lang=js&\"\nexport * from \"./loginModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div id=\"nav\">\n      <router-link to=\"/admin/products\">商品列表</router-link> |\n      <router-link to=\"/admin/coupons\">優惠券</router-link>\n      <span :v-if=\"loginData.status\">\n        | <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"logout\">登出</button>\n      </span>\n    </div>\n    <router-view name=\"products\" />\n    <login-modal @getLoginData=\"setLoginData\" :login-status=\"loginData.status\"></login-modal>\n  </div>\n</template>\n\n<script>\nimport LoginModal from '@/components/loginModal.vue';\nimport '@/styles/dashboard/custom.scss';\nimport apis from '@/apis/apis';\n\nexport default {\n  components: { 'login-modal': LoginModal },\n  data() {\n    return {\n      loginData: {\n        status: false,\n        expired: null,\n        token: '',\n      },\n      isModalShow: false,\n    };\n  },\n  created() {\n    this.$bus.$on('dashboard.updateIsModalShow', this.updateIsModalShow);\n    apis.checkLogin().then((res) => {\n      const { success } = res;\n      this.loginData.status = success;\n      if (this.loginData.status) {\n        this.$router.push('/admin/products');\n      } else {\n        this.$router.push('/admin');\n      }\n    });\n  },\n  methods: {\n    updateIsModalShow(data) {\n      this.isModalShow = data;\n    },\n    setLoginData(data) {\n      const { success } = data;\n      if (!success) return;\n      this.loginData.status = success;\n      this.$router.push('/admin/products');\n    },\n    logout() {\n      apis.logout().then((res) => {\n        const { success } = res;\n        if (success) {\n          this.loginData.status = !success;\n          this.$router.push('/admin');\n        }\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=3b36603b&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}