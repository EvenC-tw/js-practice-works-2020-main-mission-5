(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41740864"],{"5c3a":function(t,a,o){"use strict";o.r(a);var s=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/admin/products"}},[t._v("商品列表")]),t._v(" | "),o("router-link",{attrs:{to:"/admin/coupons"}},[t._v("優惠券")]),o("span",{attrs:{"v-if":t.loginData.status}},[t._v(" | "),o("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.logout(a)}}},[t._v("登出")])])],1),o("router-view",{attrs:{name:"products"}}),o("login-modal",{attrs:{"login-status":t.loginData.status},on:{getLoginData:t.setLoginData}})],1)},e=[],i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{class:[t.modal.enable?t.modal.enableClass:"","modal fade"],attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"LoginModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-dialog-scrollable"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title text-center w-100",attrs:{id:"LoginModalLabel"}},[t._v(t._s(t.modal.title))])]),o("div",{staticClass:"modal-body"},[o("form",[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],staticClass:"form-control",attrs:{id:"email",type:"text",name:"",placeholder:"請輸入email",required:""},domProps:{value:t.loginForm.email},on:{input:function(a){a.target.composing||t.$set(t.loginForm,"email",a.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",name:"",placeholder:"請輸入密碼",required:""},domProps:{value:t.loginForm.password},on:{input:function(a){a.target.composing||t.$set(t.loginForm,"password",a.target.value)}}})])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleLogin}},[t._v("登入")])])])])])},n=[],l=o("0ebf"),r={props:["loginStatus"],data:function(){return{modal:{enable:null,enableClass:"show d-block login-modal",title:"Welcome Admin Dashboard",type:""},loginForm:{email:"",password:""}}},methods:{handleLogin:function(){var t=this;l["a"].login(this.loginForm).then((function(a){t.$emit("getLoginData",a),t.$bus.$emit("productList.updateIsModalShow",!1)}))}},created:function(){this.modal.enable=!this.loginStatus,this.$bus.$emit("productList.updateIsModalShow",this.modal.enable)},watch:{loginStatus:function(t){this.modal.enable=!t,this.$bus.$emit("productList.updateIsModalShow",this.modal.enable)}}},d=r,u=o("2877"),c=Object(u["a"])(d,i,n,!1,null,null,null),m=c.exports,p=(o("cca5"),{components:{"login-modal":m},data:function(){return{loginData:{status:!1,expired:null,token:""},isModalShow:!1}},created:function(){var t=this;this.$bus.$on("dashboard.updateIsModalShow",this.updateIsModalShow),l["a"].checkLogin().then((function(a){var o=a.success;t.loginData.status=o,t.loginData.status?t.$router.push("/admin/products"):t.$router.push("/admin")}))},methods:{updateIsModalShow:function(t){this.isModalShow=t},setLoginData:function(t){var a=t.success;a&&(this.loginData.status=a,this.$router.push("/admin/products"))},logout:function(){var t=this;l["a"].logout().then((function(a){var o=a.success;o&&(t.loginData.status=!o,t.$router.push("/admin"))}))}}}),g=p,h=Object(u["a"])(g,s,e,!1,null,null,null);a["default"]=h.exports},cca5:function(t,a,o){}}]);
//# sourceMappingURL=chunk-41740864.f5abd9c5.js.map